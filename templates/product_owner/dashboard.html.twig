{% extends 'base.html.twig' %}

{% block title %}Dashboard Product Owner{% endblock %}

{% block body %}
<h1>Dashboard Product Owner</h1>

{# Section 1 : Comptes clients existants #}
<section style="margin-bottom:30px;">
    <h2>Comptes clients existants</h2>
    {% if comptes is not empty %}
        <table border="1" cellpadding="5" cellspacing="0">
            <thead>
                <tr>
                    <th>ID</th>
                    <th>Username</th>
                </tr>
            </thead>
            <tbody>
                {% for compte in comptes %}
                    <tr>
                        <td>{{ compte.id }}</td>
                        <td>{{ compte.username }}</td>
                    </tr>
                {% endfor %}
            </tbody>
        </table>
    {% else %}
        <p>Aucun compte client disponible pour le moment.</p>
    {% endif %}
</section>

<hr>

{# Section 2 : Formulaire de demande PO #}
<section>
    <h2>Créer une nouvelle demande de compte</h2>

    {% if message %}
        <div style="background:#dfd; padding:10px; margin-bottom:10px;">
            {{ message|raw }}
        </div>
    {% endif %}

    <form method="post" style="max-width:400px;">
        <div style="margin-bottom:10px;">
            <label for="username">Nom Entreprise :</label><br>
            <input type="text" name="username" id="username" required>
        </div>

        <div style="margin-bottom:10px;">
            <label for="password">Numéro Siret :</label><br>
            <input type="password" name="password" id="password" required>
        </div>

        <div style="margin-bottom:10px;">
            <label for="action">Action :</label><br>
            <select name="action" id="action" required>
                <option value="create">Créer</option>
                <option value="delete">Supprimer</option>
            </select>
        </div>

        <button type="submit" style="padding:5px 15px;">Envoyer la demande</button>
    </form>
</section>

{% endblock %}
